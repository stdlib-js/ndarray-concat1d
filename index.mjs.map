{"version":3,"file":"index.mjs","sources":["../lib/resolve_dtypes.js","../lib/resolve_order.js","../lib/main.js","../lib/assign.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport getDType from '@stdlib/ndarray-base-dtype';\nimport promoteDataTypes from '@stdlib/ndarray-base-promote-dtypes';\n\n\n// MAIN //\n\n/**\n* Returns a list of ndarray data types from a list of ndarrays.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of input ndarrays\n* @returns {Array} list of data types\n*/\nfunction dataTypes( arrays ) {\n\tvar out;\n\tvar i;\n\n\tout = [];\n\tfor ( i = 0; i < arrays.length; i++ ) {\n\t\tout.push( getDType( arrays[ i ] ) );\n\t}\n\treturn out;\n}\n\n/**\n* Returns a list of ndarray data types from a list of ndarrays.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of input ndarrays\n* @returns {*} resolved data type\n*/\nfunction resolveDataTypes( arrays ) {\n\treturn promoteDataTypes( dataTypes( arrays ) );\n}\n\n\n// EXPORTS //\n\nexport default resolveDataTypes;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport getOrder from '@stdlib/ndarray-base-order';\nimport defaults from '@stdlib/ndarray-defaults';\n\n\n// VARIABLES //\n\nvar DEFAULT_ORDER = defaults.get( 'order' );\n\n\n// MAIN //\n\n/**\n* Resolves the order (i.e. memory layout) of an output ndarray according to a list of input ndarrays.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of inputs ndarrays\n* @returns {string} order\n*/\nfunction resolveOrder( arrays ) {\n\tvar o;\n\tvar i;\n\n\t// Resolve the order of the first ndarray:\n\to = getOrder( arrays[ 0 ] );\n\n\t// If a subsequent input ndarray has a different order, return the default memory layout...\n\tfor ( i = 1; i < arrays.length; i++ ) {\n\t\tif ( getOrder( arrays[ i ] ) !== o ) {\n\t\t\treturn DEFAULT_ORDER;\n\t\t}\n\t}\n\treturn o;\n}\n\n\n// EXPORTS //\n\nexport default resolveOrder;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isArrayLikeObject from '@stdlib/assert-is-array-like-object';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport broadcastScalar from '@stdlib/ndarray-base-broadcast-scalar';\nimport broadcastArray from '@stdlib/ndarray-base-broadcast-array';\nimport ndims from '@stdlib/ndarray-base-ndims';\nimport defaults from '@stdlib/ndarray-defaults';\nimport concat from '@stdlib/ndarray-concat';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport resolveDataTypes from './resolve_dtypes.js';\nimport resolveOrder from './resolve_order.js';\n\n\n// VARIABLES //\n\nvar DEFAULT_ORDER = defaults.get( 'order' );\nvar DEFAULT_DTYPE = defaults.get( 'dtypes.default' );\n\n\n// MAIN //\n\n/**\n* Returns a one-dimensional ndarray formed by concatenating provided input arguments.\n*\n* @param {...*} arguments - input arguments\n* @throws {Error} must provide at least one argument\n* @throws {TypeError} ndarray arguments must have fewer than two dimensions\n* @returns {ndarray} output ndarray\n*\n* @example\n* import array from '@stdlib/ndarray-array';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n*\n* var x = array( [ -1.0, 2.0, 3.0, 4.0 ] );\n* var y = array( [ -5.0, 6.0, -7.0, -8.0, 9.0, -10.0 ] );\n*\n* var out = concat1d( x, y );\n* // returns <ndarray>[ -1.0, 2.0, 3.0, 4.0, -5.0, 6.0, -7.0, -8.0, 9.0, -10.0 ]\n*/\nfunction concat1d() {\n\tvar nargs;\n\tvar args;\n\tvar arrs;\n\tvar isnd;\n\tvar dims;\n\tvar ord;\n\tvar arg;\n\tvar dt;\n\tvar i;\n\tvar d;\n\n\tnargs = arguments.length;\n\n\t// Resolve function arguments...\n\tif ( nargs < 1 ) {\n\t\tthrow new Error( 'invalid invocation. Must provide at least one argument.' );\n\t}\n\targ = arguments[ 0 ];\n\tif ( nargs === 1 ) {\n\t\tif ( isArrayLikeObject( arg ) && !isndarrayLike( arg ) ) {\n\t\t\t// Always copy inputs to a \"generic\" array...\n\t\t\targs = [];\n\t\t\tfor ( i = 0; i < arg.length; i++ ) {\n\t\t\t\targs.push( arg[ i ] );\n\t\t\t}\n\t\t} else {\n\t\t\targs = [ arg ];\n\t\t}\n\t} else { // nargs > 1\n\t\targs = [];\n\t\tfor ( i = 0; i < nargs; i++ ) {\n\t\t\targs.push( arguments[ i ] );\n\t\t}\n\t}\n\tisnd = [];\n\tdims = [];\n\tarrs = [];\n\tfor ( i = 0; i < args.length; i++ ) {\n\t\tisnd.push( isndarrayLike( args[ i ] ) );\n\t\tif ( isnd[ i ] ) {\n\t\t\td = ndims( args[ i ] );\n\t\t\tif ( d > 1 ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Each ndarray argument must have fewer than two dimensions. Argument: %d.', i ) );\n\t\t\t}\n\t\t\tdims.push( d );\n\t\t\tarrs.push( args[ i ] );\n\t\t} else {\n\t\t\tdims.push( -1 );\n\t\t}\n\t}\n\tif ( arrs.length >= 1 ) {\n\t\tdt = resolveDataTypes( arrs );\n\t\tord = resolveOrder( arrs );\n\t} else {\n\t\tdt = DEFAULT_DTYPE;\n\t\tord = DEFAULT_ORDER;\n\t}\n\t// Broadcast scalar or 0d ndarray inputs...\n\tfor ( i = 0; i < args.length; i++ ) {\n\t\tif ( isnd[ i ] ) {\n\t\t\tif ( dims[ i ] === 0 ) {\n\t\t\t\targs[ i ] = broadcastArray( args[ i ], [ 1 ] );\n\t\t\t}\n\t\t} else {\n\t\t\targs[ i ] = broadcastScalar( args[ i ], dt, [ 1 ], ord );\n\t\t}\n\t}\n\treturn concat( args );\n}\n\n\n// EXPORTS //\n\nexport default concat1d;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isArrayLikeObject from '@stdlib/assert-is-array-like-object';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport broadcastScalar from '@stdlib/ndarray-base-broadcast-scalar';\nimport broadcastArray from '@stdlib/ndarray-base-broadcast-array';\nimport ndims from '@stdlib/ndarray-base-ndims';\nimport defaults from '@stdlib/ndarray-defaults';\nimport concat from '@stdlib/ndarray-concat';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport resolveDataTypes from './resolve_dtypes.js';\nimport resolveOrder from './resolve_order.js';\n\n\n// VARIABLES //\n\nvar DEFAULT_ORDER = defaults.get( 'order' );\nvar DEFAULT_DTYPE = defaults.get( 'dtypes.default' );\n\n\n// MAIN //\n\n/**\n* Concatenates provided input arguments and assigns the result to a provided one-dimensional output ndarray.\n*\n* @param {...*} arguments - input arguments\n* @param {ndarrayLike} out - output ndarray\n* @throws {Error} must provide at least two arguments\n* @throws {TypeError} ndarray arguments must have fewer than two dimensions\n* @throws {Error} last argument must be a one-dimensional ndarray\n* @returns {ndarray} output ndarray\n*\n* @example\n* import array from '@stdlib/ndarray-array';\n* import empty from '@stdlib/ndarray-empty';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n*\n* var x = array( [ -1.0, 2.0, 3.0, 4.0 ] );\n* var y = array( [ -5.0, 6.0, -7.0, -8.0, 9.0, -10.0 ] );\n* var z = empty( [ 10 ] );\n*\n* var out = assign( x, y, z );\n* // returns <ndarray>[ -1.0, 2.0, 3.0, 4.0, -5.0, 6.0, -7.0, -8.0, 9.0, -10.0 ]\n*\n* var bool = ( out === z );\n* // returns true\n*/\nfunction assign() {\n\tvar nargs;\n\tvar args;\n\tvar arrs;\n\tvar isnd;\n\tvar dims;\n\tvar ord;\n\tvar arg;\n\tvar out;\n\tvar dt;\n\tvar i;\n\tvar d;\n\n\tnargs = arguments.length;\n\n\t// Resolve function arguments...\n\tif ( nargs < 2 ) {\n\t\tthrow new Error( 'invalid invocation. Must provide at least two arguments.' );\n\t}\n\targ = arguments[ 0 ];\n\tif ( nargs === 2 ) {\n\t\tif ( isArrayLikeObject( arg ) && !isndarrayLike( arg ) ) {\n\t\t\t// Always copy inputs to a \"generic\" array...\n\t\t\targs = [];\n\t\t\tfor ( i = 0; i < arg.length; i++ ) {\n\t\t\t\targs.push( arg[ i ] );\n\t\t\t}\n\t\t} else {\n\t\t\targs = [ arg ];\n\t\t}\n\t} else { // nargs > 2\n\t\targs = [];\n\t\tfor ( i = 0; i < nargs - 1; i++ ) {\n\t\t\targs.push( arguments[ i ] );\n\t\t}\n\t}\n\tout = arguments[ nargs-1 ];\n\tif ( !isndarrayLike( out ) || ndims( out ) !== 1 ) {\n\t\tthrow new TypeError( format( 'invalid argument. Last argument must be a one-dimensional ndarray. Value: `%s`.', out ) );\n\t}\n\tisnd = [];\n\tdims = [];\n\tarrs = [];\n\tfor ( i = 0; i < args.length; i++ ) {\n\t\tisnd.push( isndarrayLike( args[ i ] ) );\n\t\tif ( isnd[ i ] ) {\n\t\t\td = ndims( args[ i ] );\n\t\t\tif ( d > 1 ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Each ndarray argument must have fewer than two dimensions. Argument: %d.', i ) );\n\t\t\t}\n\t\t\tdims.push( d );\n\t\t\tarrs.push( args[ i ] );\n\t\t} else {\n\t\t\tdims.push( -1 );\n\t\t}\n\t}\n\tif ( arrs.length >= 1 ) {\n\t\tdt = resolveDataTypes( arrs );\n\t\tord = resolveOrder( arrs );\n\t} else {\n\t\tdt = DEFAULT_DTYPE;\n\t\tord = DEFAULT_ORDER;\n\t}\n\t// Broadcast scalar or 0d ndarray inputs...\n\tfor ( i = 0; i < args.length; i++ ) {\n\t\tif ( isnd[ i ] ) {\n\t\t\tif ( dims[ i ] === 0 ) {\n\t\t\t\targs[ i ] = broadcastArray( args[ i ], [ 1 ] );\n\t\t\t}\n\t\t} else {\n\t\t\targs[ i ] = broadcastScalar( args[ i ], dt, [ 1 ], ord );\n\t\t}\n\t}\n\treturn concat.assign( args, out );\n}\n\n\n// EXPORTS //\n\nexport default assign;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return a one-dimensional ndarray formed by concatenating provided input arguments.\n*\n* @module @stdlib/ndarray-concat1d\n*\n* @example\n* import array from '@stdlib/ndarray-array';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import concat1d from '@stdlib/ndarray-concat1d';\n*\n* var x = array( [ -1.0, 2.0, 3.0, 4.0 ] );\n* var y = array( [ -5.0, 6.0, -7.0, -8.0, 9.0, -10.0 ] );\n*\n* var out = concat1d( x, y );\n* // returns <ndarray>[ -1.0, 2.0, 3.0, 4.0, -5.0, 6.0, -7.0, -8.0, 9.0, -10.0 ]\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport main from './main.js';\nimport assign from './assign.js';\n\n\n// MAIN //\n\nsetReadOnly( main, 'assign', assign );\n\n\n// EXPORTS //\n\nexport default main;\n\n// exports: { \"assign\": \"main.assign\" }\n"],"names":["resolveDataTypes","arrays","promoteDataTypes","out","i","length","push","getDType","dataTypes","DEFAULT_ORDER","defaults","get","resolveOrder","o","getOrder","DEFAULT_DTYPE","concat1d","nargs","args","arrs","isnd","dims","ord","arg","dt","d","arguments","Error","isArrayLikeObject","isndarrayLike","ndims","TypeError","format","broadcastArray","broadcastScalar","concat","assign","setReadOnly","main"],"mappings":"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"}